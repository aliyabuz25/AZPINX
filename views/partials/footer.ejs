<footer>
 <div class="footer-grid">
 <div class="footer-brand">
 <img src="/images/comp-1_00000.png" alt="AZPINX Logo" style="height: 50px; margin-bottom: 25px;">
 <p>AZPINX - AzÉ™rbaycanda bÃ¼tÃ¼n oyunlar Ã¼Ã§Ã¼n É™n ucuz e-pinlÉ™rin rÉ™smi satÄ±ÅŸ platformasÄ±dÄ±r. Biz 7/24
 xidmÉ™tinizdÉ™yik.</p>
 <div class="trust-badges">
 <span class="trust-badge"><i class="ri-shield-star-line"></i> SSL TÉ™hlÃ¼kÉ™siz</span>
 <span class="trust-badge"><i class="ri-award-line"></i> LisenziyalÄ±</span>
 </div>
 </div>
 <div class="footer-links">
 <h5>SÃ¼rÉ™tli KeÃ§idlÉ™r</h5>
 <ul>
 <li><a href="/">Ana SÉ™hifÉ™</a></li>
 <li><a href="/faq">FAQ</a></li>
 <li><a href="/terms">Qaydalar vÉ™ ÅÉ™rtlÉ™r</a></li>
 </ul>
 </div>
 <div class="footer-links">
 <h5>HesabÄ±m</h5>
 <ul>
 <li><a href="/profile">Profil</a></li>
 <li><a href="/tickets">Texniki DÉ™stÉ™k</a></li>
 <li><a href="/wishlist">Ä°stÉ™k SiyahÄ±sÄ±</a></li>
 </ul>
 </div>
 <div class="footer-contact">
 <h5>BizimlÉ™ ÆlaqÉ™</h5>
 <div class="contact-item">
 <i class="ri-whatsapp-line"></i>
 <div class="contact-info">
 <p>WhatsApp</p>
 <span>0107292236</span>
 </div>
 </div>
 <div class="contact-item">
 <i class="ri-mail-line"></i>
 <div class="contact-info">
 <p>E-poÃ§t</p>
 <span>destek@azpinx.com</span>
 </div>
 </div>
 </div>
 </div>
 <div class="footer-bottom">
 <p>&copy; 2024 AZPINX - BÃ¼tÃ¼n hÃ¼quqlar qorunur.</p>
 <div class="payment-icons">
 <i class="ri-visa-line"></i>
 <i class="ri-mastercard-line"></i>
 <span>M10 / MilliÃ–N / eManat</span>
 </div>
 </div>
</footer>
<div class="language-switcher" id="languageSwitcher">
 <button class="lang-current" id="langCurrentBtn" type="button" aria-label="Dil seÃ§imi">
 <span id="langCurrentFlag">ğŸ‡¦ğŸ‡¿</span>
 </button>
 <div class="lang-menu" id="langMenu">
 <button class="lang-option" type="button" data-lang="az" title="AzÉ™rbaycan dili">ğŸ‡¦ğŸ‡¿</button>
 <button class="lang-option" type="button" data-lang="tr" title="TÃ¼rkÃ§e">ğŸ‡¹ğŸ‡·</button>
 <button class="lang-option" type="button" data-lang="ru" title="Ğ ÑƒÑÑĞºĞ¸Ğ¹">ğŸ‡·ğŸ‡º</button>
 </div>
</div>
<script>
 (function () {
 const STORAGE_KEY = 'azpin_lang';
 const CACHE_KEY = 'azpin_lang_cache_v1';
 const FLAGS = { az: 'ğŸ‡¦ğŸ‡¿', tr: 'ğŸ‡¹ğŸ‡·', ru: 'ğŸ‡·ğŸ‡º' };
 const SUPPORTED = ['az', 'tr', 'ru'];
 const langBtn = document.getElementById('langCurrentBtn');
 const langMenu = document.getElementById('langMenu');
 const langFlag = document.getElementById('langCurrentFlag');
 const langOptions = document.querySelectorAll('.lang-option');
 const i18nState = { textNodes: [], attrNodes: [] };

 function setLanguageFlag(lang) {
 if (langFlag) langFlag.textContent = FLAGS[lang] || FLAGS.az;
 }

 function loadCache() {
 try {
 return JSON.parse(localStorage.getItem(CACHE_KEY) || '{}');
 } catch (e) {
 return {};
 }
 }

 function saveCache(cache) {
 try { localStorage.setItem(CACHE_KEY, JSON.stringify(cache)); } catch (e) {}
 }

 function collectNodes() {
 const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, {
 acceptNode(node) {
 if (!node || !node.parentElement) return NodeFilter.FILTER_REJECT;
 const text = String(node.nodeValue || '').trim();
 if (!text) return NodeFilter.FILTER_REJECT;
 const p = node.parentElement;
 if (p.closest('#languageSwitcher,script,style,noscript,code,pre,svg')) return NodeFilter.FILTER_REJECT;
 if (/^\d+([.,]\d+)?$/.test(text)) return NodeFilter.FILTER_REJECT;
 return NodeFilter.FILTER_ACCEPT;
 }
 });

 let textNode;
 while ((textNode = walker.nextNode())) {
 i18nState.textNodes.push({ node: textNode, original: textNode.nodeValue });
 }

 document.querySelectorAll('input[placeholder],textarea[placeholder],button[title],a[title]').forEach((el) => {
 const attrName = el.hasAttribute('placeholder') ? 'placeholder' : 'title';
 i18nState.attrNodes.push({ el, attrName, original: el.getAttribute(attrName) || '' });
 });
 }

 async function fetchTranslations(missingTexts, target) {
 const response = await fetch('/api/translate-batch', {
 method: 'POST',
 headers: { 'Content-Type': 'application/json' },
 body: JSON.stringify({ target, texts: missingTexts })
 });
 const payload = await response.json().catch(() => ({ success: false }));
 if (!payload.success) throw new Error(payload.error || 'TÉ™rcÃ¼mÉ™ xÉ™tasÄ±');
 return payload.translations || {};
 }

 async function applyLanguage(lang) {
 const selected = SUPPORTED.includes(lang) ? lang : 'az';
 localStorage.setItem(STORAGE_KEY, selected);
 setLanguageFlag(selected);
 langMenu.classList.remove('open');

 if (selected === 'az') {
 i18nState.textNodes.forEach((item) => { item.node.nodeValue = item.original; });
 i18nState.attrNodes.forEach((item) => { item.el.setAttribute(item.attrName, item.original); });
 return;
 }

 const cache = loadCache();
 if (!cache[selected]) cache[selected] = {};

 const originals = [
 ...i18nState.textNodes.map((i) => String(i.original || '').trim()),
 ...i18nState.attrNodes.map((i) => String(i.original || '').trim())
 ].filter(Boolean);

 const uniqueOriginals = [...new Set(originals)];
 const missing = uniqueOriginals.filter((t) => !cache[selected][t]);

 if (missing.length) {
 for (let i = 0; i < missing.length; i += 40) {
 const chunk = missing.slice(i, i + 40);
 try {
 const translations = await fetchTranslations(chunk, selected);
 Object.entries(translations).forEach(([key, value]) => {
 cache[selected][key] = value || key;
 });
 } catch (e) {
 console.error('Language translate chunk error:', e.message);
 }
 }
 saveCache(cache);
 }

 i18nState.textNodes.forEach((item) => {
 const key = String(item.original || '').trim();
 if (!key) return;
 item.node.nodeValue = cache[selected][key] || item.original;
 });
 i18nState.attrNodes.forEach((item) => {
 const key = String(item.original || '').trim();
 if (!key) return;
 item.el.setAttribute(item.attrName, cache[selected][key] || item.original);
 });
 }

 langBtn && langBtn.addEventListener('click', () => {
 langMenu.classList.toggle('open');
 });

 document.addEventListener('click', (e) => {
 if (!e.target.closest('#languageSwitcher')) langMenu.classList.remove('open');
 });

 langOptions.forEach((btn) => {
 btn.addEventListener('click', async () => {
 const selected = btn.getAttribute('data-lang') || 'az';
 await applyLanguage(selected);
 });
 });

 collectNodes();
 const saved = localStorage.getItem(STORAGE_KEY) || 'az';
 setLanguageFlag(saved);
 if (saved !== 'az') {
 setTimeout(() => applyLanguage(saved), 150);
 }
 })();
</script>

<!-- <div class="penguin-sprite"></div> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.min.js"></script>
<script src="/js/transition.js?v=20260216-4"></script>
<script src="/js/main.js?v=20260216-3"></script>
</body>

</html>
